{% extends 'back/base_agent.html.twig' %}

{% block title %}Modifier une Banque{% endblock %}

{% block body %}
<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <!-- Header -->
            <div class="d-flex justify-content-between align-items-center mb-4">
                <div>
                    <h1 class="mb-1"><i class="fas fa-edit me-2" style="color: var(--primary-color);"></i>Modifier la banque</h1>
                    <p class="text-muted mb-0">Modifiez les informations de la banque</p>
                </div>
                <div class="d-flex gap-2">
                    <a href="{{ path('agent_banque_view') }}" class="btn btn-outline-secondary">
                        <i class="fas fa-arrow-left me-2"></i>Retour
                    </a>
                </div>
            </div>

            <div class="card shadow-sm">
                <div class="card-body">
        
        <form id="banqueEditForm" class="mt-4">
            <input type="hidden" id="id" value="{{ banque.id }}">
            
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group mb-4">
                        <label for="nom" class="form-label fw-bold">
                            <i class="fas fa-building me-2"></i>Nom de la banque *
                        </label>
                        <input type="text" class="form-control" id="nom" required 
                               value="{{ banque.nomBq }}">
                        <div class="form-text">Nom officiel de l'établissement bancaire</div>
                    </div>
                    
                    <div class="form-group mb-4">
                        <label for="siteWeb" class="form-label fw-bold">
                            <i class="fas fa-globe me-2"></i>Site Web *
                        </label>
                        <input type="url" class="form-control" id="siteWeb" required 
                               value="{{ banque.site_web }}">
                    </div>
                    
                    <div class="form-group mb-4">
                        <label for="telephone" class="form-label fw-bold">
                            <i class="fas fa-phone me-2"></i>Téléphone *
                        </label>
                        <input type="tel" class="form-control" id="telephone" required 
                               value="{{ banque.telephone }}">
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="form-group mb-4">
                        <label for="email" class="form-label fw-bold">
                            <i class="fas fa-envelope me-2"></i>Email *
                        </label>
                        <input type="email" class="form-control" id="email" required 
                               value="{{ banque.email }}">
                    </div>
                    
                    <div class="form-group mb-4">
                        <label for="type" class="form-label fw-bold">
                            <i class="fas fa-tag me-2"></i>Type d'établissement *
                        </label>
                        <select class="form-select" id="type" required>
                            <option value="banque_commerciale" {{ banque.type == 'banque_commerciale' ? 'selected' : '' }}>Banque Commerciale</option>
                            <option value="banque_investissement" {{ banque.type == 'banque_investissement' ? 'selected' : '' }}>Banque d'Investissement</option>
                            <option value="banque_islamique" {{ banque.type == 'banque_islamique' ? 'selected' : '' }}>Banque Islamique</option>
                            <option value="banque_affaires" {{ banque.type == 'banque_affaires' ? 'selected' : '' }}>Banque d'Affaires</option>
                            <option value="caisse_epargne" {{ banque.type == 'caisse_epargne' ? 'selected' : '' }}>Caisse d'Épargne</option>
                        </select>
                    </div>
                    
                    <div class="form-group mb-4">
                        <label for="statut" class="form-label fw-bold">
                            <i class="fas fa-circle me-2"></i>Statut *
                        </label>
                        <select class="form-select" id="statut" required>
                            <option value="actif" {{ banque.statut == 'actif' ? 'selected' : '' }}>Actif</option>
                            <option value="en_attente" {{ banque.statut == 'en_attente' ? 'selected' : '' }}>En attente</option>
                            <option value="inactif" {{ banque.statut == 'inactif' ? 'selected' : '' }}>Inactif</option>
                            <option value="en_maintenance" {{ banque.statut == 'en_maintenance' ? 'selected' : '' }}>En maintenance</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group mb-4">
                        <label for="adresse" class="form-label fw-bold">
                            <i class="fas fa-map-marker-alt me-2"></i>Adresse *
                        </label>
                        <textarea class="form-control" id="adresse" rows="3" required>{{ banque.adresse }}</textarea>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="form-group mb-4">
                        <label for="ville" class="form-label fw-bold">
                            <i class="fas fa-city me-2"></i>Ville *
                        </label>
                        <input type="text" class="form-control" id="ville" required value="{{ banque.ville }}">
                    </div>
                    
                    <div class="form-group mb-4">
                        <label for="code_postal" class="form-label fw-bold">
                            <i class="fas fa-mail-bulk me-2"></i>Code Postal
                        </label>
                        <input type="text" class="form-control" id="code_postal" value="{{ banque.code_postal }}">
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group mb-4">
                        <label for="responsable" class="form-label fw-bold">
                            <i class="fas fa-user-tie me-2"></i>Responsable *
                        </label>
                        <input type="text" class="form-control" id="responsable" required value="{{ banque.responsable }}">
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="form-group mb-4">
                        <label for="tel_responsable" class="form-label fw-bold">
                            <i class="fas fa-mobile-alt me-2"></i>Téléphone du responsable
                        </label>
                        <input type="tel" class="form-control" id="tel_responsable" value="{{ banque.tel_responsable }}">
                    </div>
                </div>
            </div>
            
            <!-- Services offerts par la banque -->
            <div class="form-group mb-4">
                <label class="form-label fw-bold">
                    <i class="fas fa-concierge-bell me-2"></i>Services offerts par la banque
                </label>
                <div class="services-grid">
                    <div class="row">
                        <!-- Première colonne -->
                        <div class="col-md-3">
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="service_credit" {{ banque.services.credit ? 'checked' : '' }}>
                                <label class="form-check-label" for="service_credit">
                                    <i class="fas fa-file-invoice-dollar me-2"></i>Crédits
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="service_compte" {{ banque.services.compte ? 'checked' : '' }}>
                                <label class="form-check-label" for="service_compte">
                                    <i class="fas fa-piggy-bank me-2"></i>Comptes bancaires
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="service_chequier" {{ banque.services.chequier ? 'checked' : '' }}>
                                <label class="form-check-label" for="service_chequier">
                                    <i class="fas fa-stamp me-2"></i>Chéquiers
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="service_carte" {{ banque.services.carte ? 'checked' : '' }}>
                                <label class="form-check-label" for="service_carte">
                                    <i class="fas fa-credit-card me-2"></i>Cartes bancaires
                                </label>
                            </div>
                        </div>
                        
                        <!-- Deuxième colonne -->
                        <div class="col-md-3">
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="service_retrait" {{ banque.services.retrait ? 'checked' : '' }}>
                                <label class="form-check-label" for="service_retrait">
                                    <i class="fas fa-money-bill-wave me-2"></i>Retrait
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="service_depot" {{ banque.services.depot ? 'checked' : '' }}>
                                <label class="form-check-label" for="service_depot">
                                    <i class="fas fa-hand-holding-usd me-2"></i>Dépôt
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="service_virement" {{ banque.services.virement ? 'checked' : '' }}>
                                <label class="form-check-label" for="service_virement">
                                    <i class="fas fa-exchange-alt me-2"></i>Virement
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="service_prelevement" {{ banque.services.prelevement ? 'checked' : '' }}>
                                <label class="form-check-label" for="service_prelevement">
                                    <i class="fas fa-file-invoice me-2"></i>Prélèvement
                                </label>
                            </div>
                        </div>
                        
                        <!-- Troisième colonne -->
                        <div class="col-md-3">
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="service_assurance" {{ banque.services.assurance ? 'checked' : '' }}>
                                <label class="form-check-label" for="service_assurance">
                                    <i class="fas fa-shield-alt me-2"></i>Assurances
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="service_epargne" {{ banque.services.epargne ? 'checked' : '' }}>
                                <label class="form-check-label" for="service_epargne">
                                    <i class="fas fa-chart-line me-2"></i>Épargne
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="service_investissement" {{ banque.services.investissement ? 'checked' : '' }}>
                                <label class="form-check-label" for="service_investissement">
                                    <i class="fas fa-briefcase me-2"></i>Investissement
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="service_change" {{ banque.services.change ? 'checked' : '' }}>
                                <label class="form-check-label" for="service_change">
                                    <i class="fas fa-coins me-2"></i>Change de devises
                                </label>
                            </div>
                        </div>
                        
                        <!-- Quatrième colonne -->
                        <div class="col-md-3">
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="service_consultation" {{ banque.services.consultation ? 'checked' : '' }}>
                                <label class="form-check-label" for="service_consultation">
                                    <i class="fas fa-user-check me-2"></i>Consultation
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="service_chequier_voyage" {{ banque.services.chequier_voyage ? 'checked' : '' }}>
                                <label class="form-check-label" for="service_chequier_voyage">
                                    <i class="fas fa-plane me-2"></i>Chéquier de voyage
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="service_credit_immobilier" {{ banque.services.credit_immobilier ? 'checked' : '' }}>
                                <label class="form-check-label" for="service_credit_immobilier">
                                    <i class="fas fa-home me-2"></i>Crédit immobilier
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="service_credit_auto" {{ banque.services.credit_auto ? 'checked' : '' }}>
                                <label class="form-check-label" for="service_credit_auto">
                                    <i class="fas fa-car me-2"></i>Crédit auto
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="form-group mb-4">
                <label for="description" class="form-label fw-bold">
                    <i class="fas fa-file-alt me-2"></i>Description
                </label>
                <textarea class="form-control" id="description" rows="4">{{ banque.description }}</textarea>
            </div>
            
            <hr class="my-4">
            
            <div class="d-flex justify-content-between">
                <a href="{{ path('app_banque_index') }}" class="btn btn-outline-secondary px-5">
                    <i class="fas fa-times me-2"></i> Annuler
                </a>
                <button type="submit" class="btn btn-success px-5">
                    <i class="fas fa-save me-2"></i> Enregistrer les modifications
                </button>
            </div>
        </form>
                </div>
            </div>
        </div>
    </div>
</div>
    
    
{% endblock %}